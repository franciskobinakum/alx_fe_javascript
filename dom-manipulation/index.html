<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dynamic Quote Generator â€” Storage & JSON</title>
  <style>
    body{font-family:Inter,system-ui,Arial;max-width:900px;margin:28px auto;padding:16px;color:#111;}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
    #quoteDisplay{background:#f8fafc;border-radius:8px;padding:20px;min-height:80px;display:flex;flex-direction:column;justify-content:center}
    .quote-text{font-size:1.15rem;margin-bottom:8px}
    .quote-meta{color:#555;font-size:0.9rem}
    .controls{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
    label{font-weight:600;margin-right:6px}
    select,input[type="text"], input[type="file"]{padding:8px;border-radius:6px;border:1px solid #ddd}
    button{padding:8px 12px;border-radius:6px;border:0;background:#0b74de;color:#fff;cursor:pointer}
    button.secondary{background:#6b7280}
    form.add-quote{margin-top:18px;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .small{font-size:0.9rem;color:#666}
    .toolbar { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-top:8px; }
    /* Sync UI */
    #syncNotification { display:none; margin-top:12px; padding:10px; background:#fff7e6; border:1px solid #ffe58f; border-radius:6px; color:#333; }
    #conflictModal { display:none; position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.4); align-items:center; justify-content:center; }
    #conflictModal .modal-body { background:white; padding:16px; border-radius:8px; max-width:820px; width:90%; max-height:80vh; overflow:auto; }
    pre { background:#f4f4f4; padding:8px; border-radius:6px; overflow:auto; }
  </style>
</head>
<body>
  <header>
    <h1>Dynamic Quote Generator</h1>
    <div class="small">Local & session storage, import/export JSON, sync simulation</div>
  </header>

  <section id="app">
    <!-- Category filter + actions -->
    <div class="controls">
      <label for="categorySelect">Category:</label>
      <select id="categorySelect">
        <option value="all">All</option>
      </select>

      <button id="newQuote">Show New Quote</button>
      <button id="showAddForm" class="secondary">Add a Quote</button>
      <button id="resetStorage" class="secondary">Reset (clear added)</button>
    </div>

    <!-- additional toolbar for import/export -->
    <div class="toolbar">
      <button id="exportJson">Export Quotes</button>
      <label for="importFile" style="display:inline-flex;align-items:center;gap:8px;">
        <input id="importFile" type="file" accept=".json" />
        <span class="small">Import JSON</span>
      </label>
      <button id="clearSession" class="secondary" title="Clear last viewed quote (session)">Clear Session</button>
    </div>

    <!-- Sync notification & controls -->
    <div id="syncArea">
      <div id="syncNotification" role="status" aria-live="polite"></div>
      <div style="margin-top:8px;">
        <button id="syncNow" class="secondary">Sync Now</button>
        <button id="viewConflicts" class="secondary" style="display:none;">View Conflicts</button>
        <button id="pushLocal" class="secondary">Push Local (simulate)</button>
      </div>
    </div>

    <!-- Quote display -->
    <div id="quoteDisplay" aria-live="polite">
      <div class="quote-text">Click "Show New Quote" to begin.</div>
      <div class="quote-meta"></div>
    </div>

    <!-- placeholder where the add-quote form will be inserted by JS -->
    <div id="addQuoteContainer"></div>
  </section>

  <!-- Conflict modal -->
  <div id="conflictModal" aria-hidden="true">
    <div class="modal-body" role="dialog" aria-modal="true" aria-label="Conflicts">
      <h3>Conflicts</h3>
      <div id="conflictList" style="margin-top:8px;"></div>
      <div style="margin-top:12px;text-align:right;">
        <button id="closeConflicts" class="secondary">Close</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
